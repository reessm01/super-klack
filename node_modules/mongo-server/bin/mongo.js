#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const main_1 = require("../main");
for (let i = 0; i < process.argv.length; i++) {
    let arg = process.argv[i];
    if (arg[0] === '-') {
        let value = process.argv[++i] || null;
        value = isNaN(+value) ? value : +value;
        main_1.MongoServer.options.set(arg.substr(1), value);
    }
}
main_1.MongoServer.run()
    .then((options) => {
    console.log('Server success running on port:', options.port);
    console.log(`Use url: '${options.mongodbString}' for connect`);
    main_1.MongoServer.on('log', (string) => {
        console.log(string);
    });
})
    .catch(console.error);
